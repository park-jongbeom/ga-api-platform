syntax = "proto3";

package com.goalmond.grpc.user;

import "common.proto";

option java_multiple_files = true;
option java_package = "com.goalmond.grpc.user";
option java_outer_classname = "UserProto";

// 사용자 프로필 조회 요청
message GetUserProfileRequest {
  string user_id = 1;
}

// 사용자 프로필 응답
message UserProfileResponse {
  string user_id = 1;
  string email = 2;
  string full_name = 3;
  repeated AcademicProfile academic_profiles = 4;
  repeated FinancialProfile financial_profiles = 5;
  repeated UserPreference preferences = 6;
}

// 학업 프로필
message AcademicProfile {
  string id = 1;
  string school_name = 2;
  string degree_type = 3;
  string degree = 4;
  string major = 5;
  double gpa = 6;
  double gpa_scale = 7;
  string graduation_date = 8;  // ISO date format (YYYY-MM-DD)
  string institution = 9;
}

// 재정 프로필
message FinancialProfile {
  string id = 1;
  string budget_range = 2;
  int32 total_budget_usd = 3;
  int32 tuition_limit_usd = 4;
  string funding_source = 5;
}

// 사용자 선호도
message UserPreference {
  string id = 1;
  string target_major = 2;
  string target_location = 3;
  string career_goal = 4;
  string preferred_track = 5;
}

// 사용자 서비스
service UserService {
  rpc GetUserProfile(GetUserProfileRequest) returns (UserProfileResponse);
}
