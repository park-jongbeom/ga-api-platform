# êµ¬í˜„ëœ íŒŒì¼ ìš”ì•½

ì´ ë¬¸ì„œëŠ” ì´ì „ì— ìš”ì²­í•˜ì—¬ ìƒì„±ëœ íŒŒì¼ë“¤ì˜ êµ¬ì¡°ì™€ êµ¬í˜„ ë‚´ìš©ì„ ì •ë¦¬í•œ ë¬¸ì„œì…ë‹ˆë‹¤.

## í”„ë¡œì íŠ¸ ìœ„ì¹˜

**ë©”ì¸ í”„ë¡œì íŠ¸**: `C:\Users\qk54r\ga-api-platform`

## êµ¬í˜„ëœ ì„œë¹„ìŠ¤: ga-matching-service

### ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
ga-api-platform/
â””â”€â”€ ga-matching-service/
    â”œâ”€â”€ build.gradle.kts                    # Gradle ë¹Œë“œ ì„¤ì •
    â”œâ”€â”€ Dockerfile                           # Docker ì´ë¯¸ì§€ ë¹Œë“œ ì„¤ì •
    â”œâ”€â”€ src/
    â”‚   â””â”€â”€ main/
    â”‚       â”œâ”€â”€ kotlin/com/goalmond/matching/
    â”‚       â”‚   â”œâ”€â”€ MatchingServiceApplication.kt    # ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ ì§„ì…ì 
    â”‚       â”‚   â”œâ”€â”€ config/
    â”‚       â”‚   â”‚   â”œâ”€â”€ SwaggerConfig.kt             # Swagger UI ì„¤ì •
    â”‚       â”‚   â”‚   â””â”€â”€ WebConfig.kt                 # CORS ì„¤ì •
    â”‚       â”‚   â”œâ”€â”€ controller/
    â”‚       â”‚   â”‚   â””â”€â”€ MockMatchingController.kt     # Mock API ì»¨íŠ¸ë¡¤ëŸ¬ (4ê°œ ì—”ë“œí¬ì¸íŠ¸)
    â”‚       â”‚   â””â”€â”€ domain/dto/
    â”‚       â”‚       â”œâ”€â”€ ApiResponse.kt                # ê³µí†µ API ì‘ë‹µ ë˜í¼
    â”‚       â”‚       â”œâ”€â”€ ErrorResponse.kt              # ì—ëŸ¬ ì‘ë‹µ DTO
    â”‚       â”‚       â”œâ”€â”€ MatchingResponse.kt           # ë§¤ì¹­ ê²°ê³¼ ì‘ë‹µ DTO
    â”‚       â”‚       â”œâ”€â”€ ProgramResponse.kt            # í”„ë¡œê·¸ë¨ ì‘ë‹µ DTO
    â”‚       â”‚       â””â”€â”€ SchoolResponse.kt             # í•™êµ ì‘ë‹µ DTO
    â”‚       â””â”€â”€ resources/
    â”‚           â””â”€â”€ application.yml                   # ì• í”Œë¦¬ì¼€ì´ì…˜ ì„¤ì •
```

---

## ğŸ“‹ êµ¬í˜„ëœ ê¸°ëŠ¥

### 1. Mock API ì—”ë“œí¬ì¸íŠ¸ (4ê°œ)

#### âœ… POST `/api/v1/matching/run`
- **ê¸°ëŠ¥**: ì‚¬ìš©ì IDë¥¼ ë°›ì•„ Mock ë§¤ì¹­ ê²°ê³¼ ë°˜í™˜
- **ìš”ì²­**: `{ "userId": "uuid" }`
- **ì‘ë‹µ**: ë§¤ì¹­ ì ìˆ˜ ë° Top 5 í•™êµ ëª©ë¡
- **íŠ¹ì§•**: 3ê°€ì§€ ì‹œë‚˜ë¦¬ì˜¤ ëœë¤ ë°˜í™˜
  - **ì•ˆì •ê¶Œ (SAFE)**: 85+ ì ìˆ˜ (Irvine Valley College ë“±)
  - **ë„ì „ê¶Œ (CHALLENGE)**: 70-84 ì ìˆ˜ (Santa Monica College ë“±)
  - **ì „ëµ ê²½ë¡œ (STRATEGY)**: 60-69 ì ìˆ˜ (De Anza College ë“±)

#### âœ… GET `/api/v1/matching/result`
- **ê¸°ëŠ¥**: ê°€ì¥ ìµœê·¼ ì‹¤í–‰ëœ ë§¤ì¹­ ê²°ê³¼ ì¡°íšŒ
- **ì‘ë‹µ**: ë§ˆì§€ë§‰ ë§¤ì¹­ ê²°ê³¼ (ë©”ëª¨ë¦¬ ìºì‹±)

#### âœ… GET `/api/v1/programs?type={type}`
- **ê¸°ëŠ¥**: í”„ë¡œê·¸ë¨ ëª©ë¡ ì¡°íšŒ
- **íŒŒë¼ë¯¸í„°**: 
  - `type`: `university`, `community_college`, `vocational`
  - `state`: ì£¼ ì½”ë“œ (ì„ íƒ)
  - `page`: í˜ì´ì§€ ë²ˆí˜¸ (ê¸°ë³¸ê°’: 1)
  - `size`: í˜ì´ì§€ í¬ê¸° (ê¸°ë³¸ê°’: 10)
- **ì‘ë‹µ**: í”„ë¡œê·¸ë¨ ëª©ë¡ (í˜ì´ì§• ì§€ì›)

#### âœ… GET `/api/v1/schools/{schoolId}`
- **ê¸°ëŠ¥**: í•™êµ ìƒì„¸ ì •ë³´ ì¡°íšŒ
- **íŒŒë¼ë¯¸í„°**: `schoolId` (ê²½ë¡œ ë³€ìˆ˜)
- **ì‘ë‹µ**: í•™êµ ìƒì„¸ ì •ë³´ (í•™ë¹„, ìœ„ì¹˜, í”„ë¡œê·¸ë¨, ì—°ë½ì²˜ ë“±)

---

## ğŸ”§ ì£¼ìš” ì„¤ì • íŒŒì¼

### 1. `application.yml`
```yaml
server:
  port: 9085  # ì„œë¹„ìŠ¤ í¬íŠ¸

spring:
  application:
    name: ga-matching-service
  
  # SpringDoc í˜¸í™˜ì„± ì„¤ì •
  mvc:
    pathmatch:
      matching-strategy: ant_path_matcher
  
  # JSON ë„¤ì´ë° ì „ëµ (ìŠ¤ë„¤ì´í¬ ì¼€ì´ìŠ¤)
  jackson:
    property-naming-strategy: SNAKE_CASE

# Swagger ì„¤ì •
springdoc:
  api-docs:
    path: /v3/api-docs
  swagger-ui:
    path: /swagger-ui.html
```

### 2. `build.gradle.kts`
- **Spring Boot 3.4+**
- **Kotlin**
- **SpringDoc OpenAPI 2.8.15** (Swagger UI)
- **Jackson** (JSON ì²˜ë¦¬)
- **MockK** (í…ŒìŠ¤íŠ¸ìš©)

### 3. `WebConfig.kt` (CORS ì„¤ì •)
```kotlin
allowedOrigins(
    "http://localhost:5173",      // í”„ë¡ íŠ¸ì—”ë“œ ë¡œì»¬ ê°œë°œ
    "http://localhost:3000",
    "https://goalmond.com",
    "https://www.goalmond.com",
    "https://go-almond.ddnsfree.com"
)
```

---

## ğŸ“Š ë°ì´í„° êµ¬ì¡°

### MatchingResponse (ë§¤ì¹­ ê²°ê³¼)
```kotlin
data class MatchingResponse(
    val matchingId: String,           // ë§¤ì¹­ ê²°ê³¼ ID
    val userId: String,                // ì‚¬ìš©ì ID
    val totalMatches: Int,            // ì´ ë§¤ì¹­ ê°œìˆ˜
    val executionTimeMs: Int,         // ì‹¤í–‰ ì‹œê°„(ms)
    val results: List<MatchingResult>, // ë§¤ì¹­ ê²°ê³¼ ëª©ë¡
    val createdAt: Instant            // ìƒì„± ì‹œê°
)
```

### MatchingResult (ê°œë³„ ë§¤ì¹­ ê²°ê³¼)
ê° ê²°ê³¼ëŠ” ë‹¤ìŒ ì •ë³´ë¥¼ í¬í•¨:
- **rank**: ìˆœìœ„ (1-5)
- **school**: í•™êµ ìš”ì•½ ì •ë³´
- **program**: í”„ë¡œê·¸ë¨ ìš”ì•½ ì •ë³´
- **totalScore**: ì´ì  (0-100)
- **scoreBreakdown**: 6ëŒ€ ì§€í‘œë³„ ì ìˆ˜
  - academic (í•™ì—… ì í•©ë„)
  - english (ì˜ì–´ ì í•©ë„)
  - budget (ì˜ˆì‚° ì í•©ë„)
  - location (ì§€ì—­ ì í•©ë„)
  - duration (ê¸°ê°„ ì í•©ë„)
  - career (ì§„ë¡œ ì í•©ë„)
- **recommendationType**: ì¶”ì²œ íƒ€ì… (`safe`, `challenge`, `strategy`)
- **explanation**: ì¶”ì²œ ì´ìœ  ì„¤ëª…
- **pros**: ì¥ì  ëª©ë¡
- **cons**: ë‹¨ì  ëª©ë¡

---

## ğŸš€ ì‹¤í–‰ ë°©ë²•

### ë¡œì»¬ ì‹¤í–‰
```bash
cd C:\Users\qk54r\ga-api-platform
./gradlew :ga-matching-service:bootRun
```

### ì ‘ê·¼ URL
- **API**: http://localhost:9085
- **Swagger UI**: http://localhost:9085/swagger-ui.html
- **OpenAPI JSON**: http://localhost:9085/v3/api-docs

### Docker ì‹¤í–‰
```bash
docker-compose up -d ga-matching-service
```

---

## ğŸ“ API ì‚¬ìš© ì˜ˆì‹œ

### ë§¤ì¹­ ì‹¤í–‰
```bash
curl -X POST http://localhost:9085/api/v1/matching/run \
  -H "Content-Type: application/json" \
  -d '{"userId": "550e8400-e29b-41d4-a716-446655440000"}'
```

### ë§¤ì¹­ ê²°ê³¼ ì¡°íšŒ
```bash
curl http://localhost:9085/api/v1/matching/result
```

### í”„ë¡œê·¸ë¨ ëª©ë¡ ì¡°íšŒ
```bash
curl "http://localhost:9085/api/v1/programs?type=community_college&page=1&size=10"
```

### í•™êµ ìƒì„¸ ì¡°íšŒ
```bash
curl http://localhost:9085/api/v1/schools/school-001
```

---

## ğŸ“š ê´€ë ¨ ë¬¸ì„œ

### ê³„íš ë¬¸ì„œ
- `C:\Users\qk54r\.cursor\plans\ai_matching_mvp_plan_afef0276.plan.md`
- `C:\Users\qk54r\.cursor\plans\gam-11_mock_api_êµ¬í˜„_91ded95a.plan.md`

### í”„ë¡œì íŠ¸ README
- `C:\Users\qk54r\ga-api-platform\README.md`

---

## ğŸ” ì£¼ìš” êµ¬í˜„ íŠ¹ì§•

1. **Mock ë°ì´í„°**: ì‹¤ì œ DB ì—†ì´ë„ í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ ê°€ëŠ¥
2. **3ê°€ì§€ ì‹œë‚˜ë¦¬ì˜¤**: ì•ˆì •ê¶Œ/ë„ì „ê¶Œ/ì „ëµ ê²½ë¡œë¡œ ë‹¤ì–‘í•œ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥
3. **CORS ì„¤ì •**: í”„ë¡ íŠ¸ì—”ë“œ ë¡œì»¬ ê°œë°œ í™˜ê²½ ì§€ì›
4. **Swagger UI**: API ë¬¸ì„œí™” ë° í…ŒìŠ¤íŠ¸ ì¸í„°í˜ì´ìŠ¤ ì œê³µ
5. **í‘œì¤€í™”ëœ ì‘ë‹µ**: `ApiResponse<T>` ë˜í¼ë¡œ ì¼ê´€ëœ ì‘ë‹µ í˜•ì‹
6. **ì—ëŸ¬ ì²˜ë¦¬**: í‘œì¤€í™”ëœ ì—ëŸ¬ ì‘ë‹µ (`ErrorResponse`)

---

## ğŸ“Œ ë‹¤ìŒ ë‹¨ê³„ (ê³„íšëœ ê¸°ëŠ¥)

ê³„íš ë¬¸ì„œì— ë”°ë¥´ë©´:
- Week 2: User Profile & Preference API + DB ë§ˆì´ê·¸ë ˆì´ì…˜
- Week 3: AI ë§¤ì¹­ ì—”ì§„ í•µì‹¬ ë¡œì§ (Hard Filter + Base Score)
- Week 4: Program ê´€ë¦¬ + ë§¤ì¹­ ì‹¤í–‰ API
- Week 5: Application ê´€ë¦¬ + Document ì—…ë¡œë“œ
- Week 6: ë³´ì•ˆ ê°•í™” + Lightsail ë°°í¬

---

## ğŸ’¡ ì°¸ê³ ì‚¬í•­

- í˜„ì¬ëŠ” **Mock API** ë‹¨ê³„ë¡œ ì¸ì¦ì´ í•„ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤
- ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™ì€ ì¶”í›„ ì§„í–‰ ì˜ˆì •ì…ë‹ˆë‹¤
- ì‹¤ì œ ë§¤ì¹­ ë¡œì§ì€ Week 3-4ì— êµ¬í˜„ ì˜ˆì •ì…ë‹ˆë‹¤

---

**ìƒì„±ì¼**: 2026-01-28  
**í”„ë¡œì íŠ¸**: Go Almond AI Matching MVP
